<!DOCTYPE HTML>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<title>Notification Example</title>
	<link rel="stylesheet" href="css/index.css"/>
</head>
<body>

<h1>Local Notification</h1>
	<div class="app">
		<div id="deviceready" class="blink">
            <p class="event listening">Connecting to Device</p>
            <p class="event received" onclick="window.plugin.notification.local.add({ message: 'Great app!' });">Device is Ready</p>
        </div>
	</div>	
		

<p><a href="#" onclick="showAlert(); return false;">Show Alert</a></p>
<br/>
<br/>
<br/>
<br/>
<br/>
<p><a href="#" onclick="showNotification(); return false;">Show Notification</a></p>


	<script type="text/javascript" src="cordova.js"></script>	
	
	
	<script type="text/javascript">
	 document.addEventListener("deviceready", onDeviceReady, false);
	 function onDeviceReady() {
		app.initialize();
      }


	function alertDismissed() {
            // do something
        }

	function showNotification() {
		window.plugin.notification.local.add({ message: 'Una prueba' });
		window.notification.local.add({ message: 'Una prueba2' });
		cordova.plugins.notification.add({ message: 'Una prueba3' });
	}
		
		
    // Show a custom alertDismissed
    //
    function showAlert() {
        navigator.notification.alert(
            'You are the winner!',  // message
            alertDismissed,         // callback
            'Game Over',            // title
            'Done'                  // buttonName
        );
    }

	
	
	var app = {
    // Application Constructor
    initialize: function() {
        this.bindEvents();
    },
    // Bind Event Listeners
    //
    // Bind any events that are required on startup. Common events are:
    // 'load', 'deviceready', 'offline', and 'online'.
    bindEvents: function() {
        document.addEventListener('deviceready', this.onDeviceReady, false);
    },
    // deviceready Event Handler
    //
    // The scope of 'this' is the event. In order to call the 'receivedEvent'
    // function, we must explicitly call 'app.receivedEvent(...);'
    onDeviceReady: function() {
        app.receivedEvent('deviceready');
    },
    // Update DOM on a Received Event
    receivedEvent: function(id) {
        var parentElement = document.getElementById(id);
        var listeningElement = parentElement.querySelector('.listening');
        var receivedElement = parentElement.querySelector('.received');

        listeningElement.setAttribute('style', 'visibility:hidden;');
        receivedElement.setAttribute('style', 'display:block;');
		
		window.plugin.notification.local.add({ message: 'Great app!' });
		cordova.plugin.notification.local.add({ message: 'Great app2!' });

        console.log('Received Event: ' + id);
    }
};
	
	
	
	</script>
</body>
</html>